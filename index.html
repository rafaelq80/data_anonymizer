<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Generation Brasil">
    <meta 
        name="description"
        content="Portf√≥lio da Generation Brasil, 
                desenvolvedor Full Stack especializado em criar experi√™ncias 
                digitais incr√≠veis. Conhe√ßa meus projetos e entre em contato."
    >
    <meta name="robots" content="index, follow">

    <link rel="icon" type="image/svg+xml" href="./assets/img/favicon.svg">

    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;600;700&family=Syne:wght@400;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/styles.css">

    <title>LOG Anonymizer</title>
</head>


<body>

<div class="grid-bg"></div>
<div class="container">

<header>
  <div class="tag">// data privacy ¬∑ LGPD compliant</div>
  <h1>Log Anonymizer</h1>
  <p>Padroniza√ß√£o, limpeza e anonimiza√ß√£o de logs CSV/TXT conforme LGPD e boas pr√°ticas de seguran√ßa de dados.</p>
  <div class="badges">
    <span class="badge badge-g">PascalCase Headers</span>
    <span class="badge badge-g">Separador ;</span>
    <span class="badge badge-g">N√£o Informado</span>
    <span class="badge badge-g">Deduplica√ß√£o</span>
    <span class="badge badge-p">PATH_REDACTED</span>
    <span class="badge badge-r">LGPD</span>
    <span class="badge badge-r">Valida√ß√£o Amostral</span>
  </div>
</header>

<!-- 01 Upload -->
<div class="card" id="step1">
  <div class="card-title">01 ‚Äî Arquivo CSV/TXT</div>
  <div class="row">
    <div>
      <label class="small">Separador de entrada</label>
      <select id="sep">
        <option value=",">, (v√≠rgula)</option>
        <option value=";" selected>; (ponto-e-v√≠rgula)</option>
        <option value="\t">Tab</option>
        <option value="|">| (pipe)</option>
      </select>
    </div>
    <div>
      <label class="small">Codifica√ß√£o <span id="encDetected" style="color:var(--accent);font-size:10px;margin-left:6px"></span></label>
      <select id="enc">
        <option value="auto" selected>Auto-detectar</option>
        <option value="UTF-8">UTF-8</option>
        <option value="windows-1252">Windows-1252 / Latin-1</option>
        <option value="ISO-8859-1">ISO-8859-1</option>
      </select>
    </div>
  </div>
  <div class="drop-zone" id="dropZone">
    <input type="file" id="fileInput" accept=".csv,.txt,.log">
    <span class="icon">üìÇ</span>
    <p><strong>Arraste um arquivo CSV ou LOG (.txt/.log) aqui</strong><br>ou clique para selecionar</p>
  </div>
  <div class="file-info" id="fileInfo">
    <span class="fname" id="fileName"></span>
    <span class="fsize" id="fileSize"></span>
    <button class="btn btn-secondary" onclick="clearFile()" style="padding:5px 12px;font-size:11px">‚úï Limpar</button>
  </div>
  <div class="status" id="uploadStatus"></div>
</div>

<!-- 02 Rules -->
<div class="card" id="step2" style="display:none">
  <div class="card-title">02 ‚Äî Regras de Tratamento Aplicadas Automaticamente</div>
  <div class="rules-grid">
    <div class="rule-item"><strong>Cabe√ßalhos</strong>Convertidos para PascalCase (cada palavra em mai√∫scula, sem espa√ßos)</div>
    <div class="rule-item"><strong>Separador de sa√≠da</strong>Sempre ; (ponto-e-v√≠rgula) ‚Äî pronto para an√°lise de IA</div>
    <div class="rule-item"><strong>Valores ausentes</strong>Preenchidos com "N√£o informado"</div>
    <div class="rule-item"><strong>Deduplica√ß√£o</strong>Linhas id√™nticas removidas automaticamente</div>
    <div class="rule-item"><strong>Colunas</strong>Cada linha normalizada com o mesmo n√∫mero de colunas</div>
    <div class="rule-item"><strong>Decimal</strong>V√≠rgula como separador decimal (padr√£o PT-BR)</div>
    <div class="rule-item"><strong>IPs / E-mails</strong>‚Üí IP_GERAL / EMAIL_GERAL em qualquer c√©lula</div>
    <div class="rule-item"><strong>CPF / CNPJ</strong>‚Üí CPF_GERAL / CNPJ_GERAL em qualquer c√©lula</div>
    <div class="rule-item"><strong>Dom√≠nios / URLs</strong>‚Üí DOMINIO_GERAL</div>
    <div class="rule-item"><strong>Usu√°rios / Nomes</strong>‚Üí Usuario_N (pseud√¥nimo consistente)</div>
    <div class="rule-item"><strong>Empresas</strong>‚Üí Empresa_N (pseud√¥nimo consistente)</div>
    <div class="rule-item"><strong>Caminhos internos</strong>‚Üí [PATH_REDACTED] (Unix e Windows)</div>
    <div class="rule-item"><strong>Servidores internos</strong>‚Üí [SERVER_REDACTED]</div>
    <div class="rule-item"><strong>Servi√ßos Afetados</strong>Coluna preservada com sanitiza√ß√£o inline</div>
    <div class="rule-item"><strong>Detalhes / Feedback</strong>Preservados, mas com dados sens√≠veis anonimizados</div>
    <div class="rule-item"><strong>LGPD</strong>Nenhum dado pessoal identific√°vel no output</div>
  </div>
</div>

<!-- 03 Column config -->
<div class="card" id="step3" style="display:none">
  <div class="card-title">03 ‚Äî Configura√ß√£o de Colunas</div>
  <p style="font-size:11px;color:var(--muted);margin-bottom:16px">
    Cabe√ßalhos convertidos para PascalCase. Defina o tratamento adicional de cada coluna.<br>
    Colunas de feedback, detalhes e servi√ßos afetados passam por sanitiza√ß√£o autom√°tica mesmo no modo "Manter".
  </p>
  <div class="columns-grid" id="columnsGrid"></div>
  <div style="margin-top:20px;padding-top:16px;border-top:1px solid var(--border)">
    <div class="actions">
      <button class="btn btn-secondary" onclick="autoDetect()">üîç Auto-detectar</button>
      <button class="btn btn-secondary" onclick="selectAll('pseudonym')">Pseud√¥nimo em todas</button>
      <button class="btn btn-secondary" onclick="selectAll('sanitize')">Sanitizar em todas</button>
      <button class="btn btn-secondary" onclick="selectAll('keep')">Manter (com sanitiza√ß√£o)</button>
    </div>
  </div>
</div>

<!-- 04 Preview -->
<div class="card" id="step4" style="display:none">
  <div class="card-title">04 ‚Äî Pr√©-visualiza√ß√£o</div>
  <div class="preview-wrap"><table id="previewTable"></table></div>
  <p style="font-size:10px;color:var(--muted);margin-top:10px">
    At√© 10 linhas ¬∑
    <span style="color:var(--accent2)">‚ñ†</span> anonimizado/substitu√≠do ¬∑
    <span style="color:var(--warn)">‚ñ†</span> preenchido com "N√£o informado"
  </p>
</div>

<!-- 05 Export -->
<div class="card" id="step5" style="display:none">
  <div class="card-title">05 ‚Äî Valida√ß√£o &amp; Exportar</div>
  <div class="stats" id="statsBar"></div>
  <div class="validation-list" id="validationList"></div>
  <div class="actions" style="margin-top:24px">
    <button class="btn btn-primary" id="btnProcess" onclick="processAndDownload()">‚¨á Processar &amp; Baixar CSV</button>
    <button class="btn btn-secondary" onclick="runValidation()">üî¨ Validar Amostra</button>
    <button class="btn btn-secondary" onclick="copyPreview()">Copiar pr√©via (;)</button>
  </div>
  <div class="progress-bar" id="progressBar"><div class="progress-fill" id="progressFill"></div></div>
  <div class="status" id="exportStatus"></div>
</div>

</div><!-- /container -->

    <script src="./assets/js/scripts.js"></script>
</body>

</html>